'use client';

import Link from 'next/link';
import { useTranslations } from 'next-intl';
import { useState, useEffect } from 'react';

export default function NaturalTherapiesPage({
  params: { locale }
}: {
  params: { locale: string }
}) {
  const t = useTranslations('naturalTherapiesPage');
  const [expandedTherapy, setExpandedTherapy] = useState<string | null>(null);
  const [isClient, setIsClient] = useState(false);

  useEffect(() => {
    setIsClient(true);
  }, []);

  // Define therapy categories with simplified content
  const therapyCategories = [
    {
      id: 'physical',
      title: locale === 'zh' ? 'ç‰©ç†ç–—æ³•' : 'Physical Therapy',
      subtitle: locale === 'zh' ? 'çƒ­æ•·ã€æŒ‰æ‘©ã€TENSç­‰' : 'Heat therapy, massage, TENS, etc.',
      icon: 'ğŸ”¥',
      color: 'red',
      description: locale === 'zh'
        ? 'ç‰©ç†ç–—æ³•é€šè¿‡å¤–éƒ¨ç‰©ç†æ‰‹æ®µæ”¹å–„è¡€æ¶²å¾ªç¯ã€ç¼“è§£è‚Œè‚‰ç´§å¼ ï¼Œæ˜¯æœ€ç›´æ¥æœ‰æ•ˆçš„ç—›ç»ç¼“è§£æ–¹æ³•ã€‚'
        : 'Physical therapy improves blood circulation and relieves muscle tension through external physical means, making it the most direct and effective method for menstrual pain relief.',
      methods: locale === 'zh' ? [
        { name: 'çƒ­æ•·ç–—æ³•', description: 'ä½¿ç”¨çƒ­æ°´è¢‹ã€æš–å®«è´´ç­‰ï¼Œæ¸©åº¦40-45Â°Cï¼Œæ¯æ¬¡15-20åˆ†é’Ÿ' },
        { name: 'æŒ‰æ‘©ç–—æ³•', description: 'è…¹éƒ¨é¡ºæ—¶é’ˆæŒ‰æ‘©ã€è…°éƒ¨æŒ‰å‹ï¼Œä¿ƒè¿›è¡€æ¶²å¾ªç¯' },
        { name: 'TENSç–—æ³•', description: 'ç»çš®ç¥ç»ç”µåˆºæ¿€ï¼Œé˜»æ–­ç–¼ç—›ä¿¡å·ä¼ å¯¼' },
        { name: 'æ¸©æ°´æµ´', description: '38-40Â°Cæ¸©æ°´æµ¸æ³¡15-20åˆ†é’Ÿï¼Œå…¨èº«æ”¾æ¾' }
      ] : [
        { name: 'Heat Therapy', description: 'Use hot water bottles, heating pads at 40-45Â°C for 15-20 minutes' },
        { name: 'Massage Therapy', description: 'Clockwise abdominal massage, lower back pressure to promote circulation' },
        { name: 'TENS Therapy', description: 'Transcutaneous electrical nerve stimulation blocks pain signal transmission' },
        { name: 'Warm Bath', description: 'Soak in 38-40Â°C warm water for 15-20 minutes for full body relaxation' }
      ]
    },
    {
      id: 'herbal',
      title: locale === 'zh' ? 'è‰è¯ç–—æ³•' : 'Herbal Therapy',
      subtitle: locale === 'zh' ? 'è‰è¯èŒ¶ã€ä¸­è¯ã€è¡¥å……å‰‚ç­‰' : 'Herbal teas, TCM, supplements, etc.',
      icon: 'ğŸŒ¿',
      color: 'green',
      description: locale === 'zh'
        ? 'è‰è¯ç–—æ³•åˆ©ç”¨æ¤ç‰©çš„å¤©ç„¶æ´»æ€§æˆåˆ†è°ƒèŠ‚æ¿€ç´ å¹³è¡¡ã€å‡å°‘ç‚ç—‡ï¼Œæ˜¯æ¸©å’Œè€Œæœ‰æ•ˆçš„è°ƒç†æ–¹å¼ã€‚'
        : 'Herbal therapy uses natural active compounds from plants to regulate hormonal balance and reduce inflammation, providing gentle yet effective conditioning.',
      methods: locale === 'zh' ? [
        { name: 'å§œèŒ¶', description: 'ç”Ÿå§œå…·æœ‰æŠ—ç‚ä½œç”¨ï¼Œæ¯æ—¥2-3æ¯æ¸©å§œèŒ¶' },
        { name: 'å½“å½’è¡¥è¡€æ±¤', description: 'ä¼ ç»Ÿä¸­è¯æ–¹å‰‚ï¼Œè°ƒç†æ°”è¡€ï¼Œå»ºè®®å’¨è¯¢ä¸­åŒ»å¸ˆ' },
        { name: 'æ´‹ç”˜èŠèŒ¶', description: 'å…·æœ‰é•‡é™å’ŒæŠ—ç—‰æŒ›ä½œç”¨ï¼Œç¡å‰é¥®ç”¨' },
        { name: 'æœˆè§è‰æ²¹', description: 'å¯Œå«Î³-äºšéº»é…¸ï¼Œè°ƒèŠ‚å‰åˆ—è…ºç´ å¹³è¡¡' }
      ] : [
        { name: 'Ginger Tea', description: 'Ginger has anti-inflammatory properties, 2-3 cups of warm ginger tea daily' },
        { name: 'Angelica Blood Tonic', description: 'Traditional Chinese medicine formula for qi and blood regulation, consult TCM practitioner' },
        { name: 'Chamomile Tea', description: 'Has sedative and antispasmodic effects, drink before bedtime' },
        { name: 'Evening Primrose Oil', description: 'Rich in Î³-linolenic acid, helps balance prostaglandins' }
      ]
    },
    {
      id: 'dietary',
      title: locale === 'zh' ? 'é¥®é£Ÿè°ƒæ•´' : 'Dietary Adjustment',
      subtitle: locale === 'zh' ? 'æŠ—ç‚é¥®é£Ÿã€è¥å…»è¡¥å……ç­‰' : 'Anti-inflammatory diet, nutrition, etc.',
      icon: 'ğŸ',
      color: 'blue',
      description: locale === 'zh'
        ? 'é€šè¿‡ç§‘å­¦çš„é¥®é£Ÿè°ƒæ•´ï¼Œè¡¥å……å…³é”®è¥å…»ç´ ï¼Œå‡å°‘ç‚ç—‡ååº”ï¼Œä»æ ¹æœ¬ä¸Šæ”¹å–„ç—›ç»ç—‡çŠ¶ã€‚'
        : 'Through scientific dietary adjustments and key nutrient supplementation, reduce inflammatory responses and fundamentally improve menstrual pain symptoms.',
      methods: locale === 'zh' ? [
        { name: 'å¢åŠ Omega-3', description: 'æ·±æµ·é±¼ã€äºšéº»ç±½ã€æ ¸æ¡ƒç­‰ï¼Œæ¯å‘¨2-3æ¬¡' },
        { name: 'è¡¥å……é•å…ƒç´ ', description: 'é»‘å·§å…‹åŠ›ã€é¦™è•‰ã€æä»ï¼Œæ¯æ—¥300-400mg' },
        { name: 'å‡å°‘ç³–åˆ†æ‘„å…¥', description: 'é¿å…ç²¾åˆ¶ç³–å’ŒåŠ å·¥é£Ÿå“ï¼Œç¨³å®šè¡€ç³–' },
        { name: 'å¢åŠ çº¤ç»´', description: 'å…¨è°·ç‰©ã€è”¬èœæ°´æœï¼Œä¿ƒè¿›æ¿€ç´ ä»£è°¢' }
      ] : [
        { name: 'Increase Omega-3', description: 'Deep sea fish, flaxseeds, walnuts, 2-3 times per week' },
        { name: 'Magnesium Supplement', description: 'Dark chocolate, bananas, almonds, 300-400mg daily' },
        { name: 'Reduce Sugar Intake', description: 'Avoid refined sugar and processed foods, stabilize blood sugar' },
        { name: 'Increase Fiber', description: 'Whole grains, fruits and vegetables, promote hormone metabolism' }
      ]
    },
    {
      id: 'yoga',
      title: locale === 'zh' ? 'ç‘œä¼½è¿åŠ¨' : 'Yoga & Exercise',
      subtitle: locale === 'zh' ? 'ç‘œä¼½ä½“å¼ã€æ¸©å’Œè¿åŠ¨ç­‰' : 'Yoga poses, gentle exercise, etc.',
      icon: 'ğŸ§˜â€â™€ï¸',
      color: 'purple',
      description: locale === 'zh'
        ? 'ç‰¹å®šçš„ç‘œä¼½ä½“å¼å’Œæ¸©å’Œè¿åŠ¨å¯ä»¥ç¼“è§£ç›†è…”ç´§å¼ ã€æ”¹å–„è¡€æ¶²å¾ªç¯ï¼ŒåŒæ—¶é‡Šæ”¾å†…å•¡è‚½ç¼“è§£ç–¼ç—›ã€‚'
        : 'Specific yoga poses and gentle exercises can relieve pelvic tension, improve blood circulation, and release endorphins to alleviate pain.',
      methods: locale === 'zh' ? [
        { name: 'çŒ«ç‰›å¼', description: 'ç¼“è§£ä¸‹èƒŒéƒ¨ç´§å¼ ï¼Œä¿ƒè¿›è„ŠæŸ±çµæ´»æ€§' },
        { name: 'å©´å„¿å¼', description: 'æ”¾æ¾éª¨ç›†åŒºåŸŸï¼Œç¼“è§£è…¹éƒ¨å‹åŠ›' },
        { name: 'æ‰­è½¬ä½“å¼', description: 'åˆºæ¿€è…¹éƒ¨å™¨å®˜ï¼Œæ”¹å–„æ¶ˆåŒ–å’Œè¡€æ¶²å¾ªç¯' },
        { name: 'æ¸©å’Œæ•£æ­¥', description: 'æ¯æ—¥20-30åˆ†é’Ÿï¼Œä¿ƒè¿›å†…å•¡è‚½é‡Šæ”¾' }
      ] : [
        { name: 'Cat-Cow Pose', description: 'Relieves lower back tension, promotes spinal flexibility' },
        { name: 'Child\'s Pose', description: 'Relaxes pelvic area, relieves abdominal pressure' },
        { name: 'Twisting Poses', description: 'Stimulates abdominal organs, improves digestion and circulation' },
        { name: 'Gentle Walking', description: '20-30 minutes daily, promotes endorphin release' }
      ]
    },
    {
      id: 'aromatherapy',
      title: locale === 'zh' ? 'èŠ³é¦™ç–—æ³•' : 'Aromatherapy',
      subtitle: locale === 'zh' ? 'ç²¾æ²¹æŒ‰æ‘©ã€é¦™è–°ç­‰' : 'Essential oil massage, diffusion, etc.',
      icon: 'ğŸŒ¸',
      color: 'pink',
      description: locale === 'zh'
        ? 'ç²¾æ²¹çš„å¤©ç„¶èŠ³é¦™åˆ†å­å¯ä»¥é€šè¿‡å—…è§‰ç³»ç»Ÿå½±å“å¤§è„‘ï¼ŒåŒæ—¶å¤–ç”¨æŒ‰æ‘©å¯ä»¥ç¼“è§£å±€éƒ¨ç–¼ç—›ã€‚'
        : 'Natural aromatic molecules in essential oils can affect the brain through the olfactory system, while topical massage can relieve local pain.',
      methods: locale === 'zh' ? [
        { name: 'è–°è¡£è‰ç²¾æ²¹', description: 'å…·æœ‰é•‡é™å’Œæ­¢ç—›ä½œç”¨ï¼Œå¯ç”¨äºæŒ‰æ‘©æˆ–é¦™è–°' },
        { name: 'å¿«ä¹é¼ å°¾è‰', description: 'è°ƒèŠ‚æ¿€ç´ å¹³è¡¡ï¼Œç¼“è§£ç»å‰ç»¼åˆå¾' },
        { name: 'ç”œæ©™ç²¾æ²¹', description: 'æå‡æƒ…ç»ªï¼Œå‡å°‘ç„¦è™‘å’ŒæŠ‘éƒ' },
        { name: 'è…¹éƒ¨æŒ‰æ‘©', description: 'ç¨€é‡Šç²¾æ²¹æŒ‰æ‘©ä¸‹è…¹éƒ¨ï¼Œé¡ºæ—¶é’ˆæ–¹å‘' }
      ] : [
        { name: 'Lavender Essential Oil', description: 'Has sedative and analgesic effects, use for massage or diffusion' },
        { name: 'Clary Sage', description: 'Regulates hormonal balance, relieves PMS symptoms' },
        { name: 'Sweet Orange Oil', description: 'Uplifts mood, reduces anxiety and depression' },
        { name: 'Abdominal Massage', description: 'Massage lower abdomen with diluted oils in clockwise direction' }
      ]
    },
    {
      id: 'acupuncture',
      title: locale === 'zh' ? 'é’ˆç¸è‰¾ç¸' : 'Acupuncture & Moxibustion',
      subtitle: locale === 'zh' ? 'ä¼ ç»Ÿä¸­åŒ»ç–—æ³•' : 'Traditional Chinese medicine',
      icon: 'ğŸ“',
      color: 'yellow',
      description: locale === 'zh'
        ? 'ä¼ ç»Ÿä¸­åŒ»é’ˆç¸é€šè¿‡åˆºæ¿€ç‰¹å®šç©´ä½è°ƒèŠ‚æ°”è¡€è¿è¡Œï¼Œè‰¾ç¸åˆ™é€šè¿‡æ¸©çƒ­åˆºæ¿€è¾¾åˆ°è°ƒç†æ•ˆæœã€‚'
        : 'Traditional Chinese acupuncture regulates qi and blood flow by stimulating specific acupoints, while moxibustion achieves conditioning effects through warm stimulation.',
      methods: locale === 'zh' ? [
        { name: 'ä¸‰é˜´äº¤ç©´', description: 'ä½äºå°è…¿å†…ä¾§ï¼Œè°ƒèŠ‚å¦‡ç§‘ç–¾ç—…çš„é‡è¦ç©´ä½' },
        { name: 'å…³å…ƒç©´', description: 'ä½äºä¸‹è…¹éƒ¨ï¼Œæ¸©è¡¥è‚¾é˜³ï¼Œè°ƒç†æœˆç»' },
        { name: 'è¡€æµ·ç©´', description: 'ä½äºå¤§è…¿å†…ä¾§ï¼Œæ´»è¡€åŒ–ç˜€ï¼Œè°ƒç»æ­¢ç—›' },
        { name: 'è‰¾ç¸ç–—æ³•', description: 'åœ¨ç›¸å…³ç©´ä½è¿›è¡Œè‰¾ç¸ï¼Œæ¸©ç»æ•£å¯’' }
      ] : [
        { name: 'Sanyinjiao Point', description: 'Located on inner calf, important acupoint for gynecological conditions' },
        { name: 'Guanyuan Point', description: 'Located on lower abdomen, tonifies kidney yang, regulates menstruation' },
        { name: 'Xuehai Point', description: 'Located on inner thigh, promotes blood circulation, regulates menstruation' },
        { name: 'Moxibustion Therapy', description: 'Apply moxibustion to relevant acupoints to warm meridians and dispel cold' }
      ]
    },
    {
      id: 'psychological',
      title: locale === 'zh' ? 'å¿ƒç†è°ƒèŠ‚' : 'Psychological Techniques',
      subtitle: locale === 'zh' ? 'å†¥æƒ³ã€å‘¼å¸æ³•ç­‰' : 'Meditation, breathing techniques, etc.',
      icon: 'ğŸ§ ',
      color: 'indigo',
      description: locale === 'zh'
        ? 'å¿ƒç†è°ƒèŠ‚æŠ€å·§å¯ä»¥æ¿€æ´»å‰¯äº¤æ„Ÿç¥ç»ç³»ç»Ÿï¼Œé™ä½ç–¼ç—›æ•æ„Ÿåº¦ï¼ŒåŒæ—¶å‡å°‘ç„¦è™‘å’Œå‹åŠ›ã€‚'
        : 'Psychological techniques can activate the parasympathetic nervous system, reduce pain sensitivity, and decrease anxiety and stress.',
      methods: locale === 'zh' ? [
        { name: 'æ·±å‘¼å¸ç»ƒä¹ ', description: 'è…¹å¼å‘¼å¸ï¼Œå¸æ°”4ç§’-å±æ¯4ç§’-å‘¼æ°”6ç§’' },
        { name: 'æ­£å¿µå†¥æƒ³', description: 'ä¸“æ³¨å½“ä¸‹æ„Ÿå—ï¼Œæ¥çº³ç–¼ç—›è€Œä¸æŠ—æ‹’' },
        { name: 'æ¸è¿›æ€§è‚Œè‚‰æ”¾æ¾', description: 'ä»å¤´åˆ°è„šä¾æ¬¡ç´§å¼ å’Œæ”¾æ¾å„éƒ¨ä½è‚Œè‚‰' },
        { name: 'å¼•å¯¼æƒ³è±¡', description: 'æƒ³è±¡æ¸©æš–çš„å…‰èŠ’ç…§å°„ç–¼ç—›éƒ¨ä½' }
      ] : [
        { name: 'Deep Breathing Exercise', description: 'Abdominal breathing: inhale 4 seconds - hold 4 seconds - exhale 6 seconds' },
        { name: 'Mindfulness Meditation', description: 'Focus on present sensations, accept pain without resistance' },
        { name: 'Progressive Muscle Relaxation', description: 'Systematically tense and relax muscle groups from head to toe' },
        { name: 'Guided Imagery', description: 'Visualize warm light radiating to the painful area' }
      ]
    },
    {
      id: 'comprehensive',
      title: locale === 'zh' ? 'ç»¼åˆæ–¹æ¡ˆ' : 'Comprehensive Plans',
      subtitle: locale === 'zh' ? 'ä¸ªæ€§åŒ–ç»„åˆç–—æ³•' : 'Personalized combination therapy',
      icon: 'ğŸ¯',
      color: 'teal',
      description: locale === 'zh'
        ? 'ç»“åˆå¤šç§è‡ªç„¶ç–—æ³•ï¼Œåˆ¶å®šä¸ªæ€§åŒ–çš„ç»¼åˆæ²»ç–—æ–¹æ¡ˆï¼Œæ•ˆæœæ›´åŠ æ˜¾è‘—å’ŒæŒä¹…ã€‚'
        : 'Combine multiple natural therapies to create personalized comprehensive treatment plans for more significant and lasting effects.',
      methods: locale === 'zh' ? [
        { name: 'è½»åº¦ç—›ç»æ–¹æ¡ˆ', description: 'çƒ­æ•·+ç‘œä¼½+è‰è¯èŒ¶+é¥®é£Ÿè°ƒæ•´' },
        { name: 'ä¸­åº¦ç—›ç»æ–¹æ¡ˆ', description: 'æŒ‰æ‘©+é’ˆç¸+è¥å…»è¡¥å……+å¿ƒç†è°ƒèŠ‚' },
        { name: 'é‡åº¦ç—›ç»æ–¹æ¡ˆ', description: 'å¤šç§ç‰©ç†ç–—æ³•+ä¸­è¯è°ƒç†+ä¸“ä¸šæŒ‡å¯¼' },
        { name: 'é¢„é˜²æ€§æ–¹æ¡ˆ', description: 'æ—¥å¸¸è°ƒç†+å®šæœŸè¯„ä¼°+ç”Ÿæ´»æ–¹å¼ä¼˜åŒ–' }
      ] : [
        { name: 'Mild Pain Plan', description: 'Heat therapy + Yoga + Herbal tea + Dietary adjustment' },
        { name: 'Moderate Pain Plan', description: 'Massage + Acupuncture + Nutrition + Psychological techniques' },
        { name: 'Severe Pain Plan', description: 'Multiple physical therapies + TCM + Professional guidance' },
        { name: 'Prevention Plan', description: 'Daily conditioning + Regular assessment + Lifestyle optimization' }
      ]
    }
  ];

  const getCardClasses = (color: string) => {
    const colorMap: { [key: string]: string } = {
      red: 'bg-gradient-to-br from-red-50 to-red-50 hover:from-red-100 hover:to-red-100',
      green: 'bg-gradient-to-br from-green-50 to-green-50 hover:from-green-100 hover:to-green-100',
      blue: 'bg-gradient-to-br from-blue-50 to-blue-50 hover:from-blue-100 hover:to-blue-100',
      purple: 'bg-gradient-to-br from-purple-50 to-purple-50 hover:from-purple-100 hover:to-purple-100',
      pink: 'bg-gradient-to-br from-pink-50 to-pink-50 hover:from-pink-100 hover:to-pink-100',
      yellow: 'bg-gradient-to-br from-yellow-50 to-yellow-50 hover:from-yellow-100 hover:to-yellow-100',
      indigo: 'bg-gradient-to-br from-indigo-50 to-indigo-50 hover:from-indigo-100 hover:to-indigo-100',
      teal: 'bg-gradient-to-br from-teal-50 to-teal-50 hover:from-teal-100 hover:to-teal-100'
    };
    return colorMap[color] || colorMap.green;
  };

  const getTextClasses = (color: string) => {
    const colorMap: { [key: string]: string } = {
      red: 'text-red-800',
      green: 'text-green-800',
      blue: 'text-blue-800',
      purple: 'text-purple-800',
      pink: 'text-pink-800',
      yellow: 'text-yellow-800',
      indigo: 'text-indigo-800',
      teal: 'text-teal-800'
    };
    return colorMap[color] || colorMap.green;
  };

  if (!isClient) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50">
        <div className="container-custom mx-auto px-4 py-8">
          <div className="animate-pulse">
            <div className="h-32 bg-gray-200 rounded-2xl mb-8"></div>
            <div className="space-y-4">
              <div className="h-8 bg-gray-200 rounded"></div>
              <div className="h-4 bg-gray-200 rounded w-3/4"></div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50">
      <div className="container-custom mx-auto px-4 py-8">
        <div className="space-y-12">
          {/* Hero Section */}
          <section className="bg-gradient-to-r from-purple-600 to-pink-600 text-white py-16 rounded-2xl">
            <div className="container-custom mx-auto px-4">
              <div className="max-w-4xl mx-auto text-center">
                <h1 className="text-4xl md:text-5xl font-bold mb-6">
                  {locale === 'zh' ? 'è‡ªç„¶ç–—æ³•' : 'Natural Therapies'}
                </h1>
                <p className="text-xl md:text-2xl opacity-90 mb-8">
                  {locale === 'zh'
                    ? 'é€šè¿‡ç§‘å­¦çš„è‡ªç„¶ç–—æ³•ï¼Œå®‰å…¨æœ‰æ•ˆåœ°ç¼“è§£ç—›ç»'
                    : 'Safe and effective menstrual pain relief through scientific natural therapies'
                  }
                </p>
              </div>
            </div>
          </section>

          {/* Simplified Content */}
          <div className="bg-white rounded-lg shadow-sm p-8">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">
              {locale === 'zh' ? 'è‡ªç„¶ç–—æ³•æ¦‚è¿°' : 'Natural Therapy Overview'}
            </h2>
            <p className="text-gray-600 mb-4">
              {locale === 'zh'
                ? 'è‡ªç„¶ç–—æ³•æ˜¯é€šè¿‡éè¯ç‰©æ‰‹æ®µç¼“è§£ç—›ç»ç—‡çŠ¶çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ç‰©ç†ç–—æ³•ã€è‰è¯ç–—æ³•ã€é¥®é£Ÿè°ƒæ•´å’Œè¿åŠ¨ç­‰ã€‚'
                : 'Natural therapies are non-pharmacological methods to relieve menstrual pain symptoms, including physical therapy, herbal remedies, dietary adjustments, and exercise.'
              }
            </p>
            
            <div className="grid md:grid-cols-2 gap-6">
              {therapyCategories.map((category) => (
                <div 
                  key={category.id} 
                  className={`${getCardClasses(category.color)} border border-gray-200 rounded-xl p-6 cursor-pointer transition-all duration-200 hover:shadow-lg`}
                  onClick={() => setExpandedTherapy(expandedTherapy === category.id ? null : category.id)}
                >
                  <div className="flex items-center mb-3">
                    <span className="text-3xl mr-3">{category.icon}</span>
                    <div className="flex-1">
                      <h3 className={`text-lg font-bold ${getTextClasses(category.color)}`}>
                        {category.title}
                      </h3>
                      <p className="text-sm text-gray-600">{category.subtitle}</p>
                    </div>
                    <svg 
                      className={`w-5 h-5 transform transition-transform duration-200 ${expandedTherapy === category.id ? 'rotate-180' : ''}`}
                      fill="none" 
                      stroke="currentColor" 
                      viewBox="0 0 24 24"
                    >
                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                    </svg>
                  </div>
                  
                  <p className="text-gray-700 text-sm mb-4">{category.description}</p>
                  
                  {expandedTherapy === category.id && (
                    <div className="border-t border-gray-200 pt-4">
                      <h4 className="font-semibold text-gray-900 mb-3">
                        {locale === 'zh' ? 'å…·ä½“æ–¹æ³•ï¼š' : 'Specific Methods:'}
                      </h4>
                      <div className="space-y-3">
                        {category.methods.map((method, index) => (
                          <div key={index} className="bg-gray-50 rounded-lg p-3">
                            <h5 className="font-medium text-gray-900">{method.name}</h5>
                            <p className="text-sm text-gray-600 mt-1">{method.description}</p>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>

          {/* Quick Links */}
          <div className="bg-white rounded-lg shadow-sm p-8">
            <h2 className="text-2xl font-bold text-gray-900 mb-4">
              {locale === 'zh' ? 'ç›¸å…³èµ„æº' : 'Related Resources'}
            </h2>
            <div className="grid md:grid-cols-2 gap-4">
              <Link
                href={`/${locale}/interactive-tools/period-pain-assessment`}
                className="block p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors"
              >
                <h3 className="font-semibold text-blue-800">
                  {locale === 'zh' ? 'ç—›ç»è¯„ä¼°å·¥å…·' : 'Pain Assessment Tool'}
                </h3>
                <p className="text-sm text-blue-600">
                  {locale === 'zh' ? 'è¯„ä¼°ç—›ç»ç¨‹åº¦' : 'Assess pain level'}
                </p>
              </Link>
              <Link
                href={`/${locale}/scenario-solutions`}
                className="block p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors"
              >
                <h3 className="font-semibold text-green-800">
                  {locale === 'zh' ? 'åœºæ™¯è§£å†³æ–¹æ¡ˆ' : 'Scenario Solutions'}
                </h3>
                <p className="text-sm text-green-600">
                  {locale === 'zh' ? 'é’ˆå¯¹æ€§è§£å†³æ–¹æ¡ˆ' : 'Targeted solutions'}
                </p>
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}